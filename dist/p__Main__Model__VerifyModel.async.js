(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{"/I2j":function(e,t,a){"use strict";a.r(t);a("T2oS");var n,r,l,i=a("W9HT"),o=(a("g9YV"),a("wCAj")),s=(a("DZo9"),a("8z0m")),c=(a("R9oj"),a("ECub")),m=a("jehZ"),p=a.n(m),d=(a("14J3"),a("BMrR")),u=(a("jCWc"),a("kPKH")),f=(a("/zsF"),a("PArb")),h=(a("Pwec"),a("CtXQ")),v=(a("+L6B"),a("2/Rp")),y=a("2Taf"),g=a.n(y),E=a("vZ4D"),b=a.n(E),w=a("l4Ni"),L=a.n(w),A=a("ujKo"),C=a.n(A),k=a("MhPg"),x=a.n(k),S=(a("OaEy"),a("2fM7")),M=(a("y8nQ"),a("Vl3Y")),j=a("q1tI"),_=a.n(j),R=a("MuoO"),V=a("3a4m"),D=a.n(V),N=a("bauW"),z=a.n(N);function T(e){return function(){var t,a=C()(e);if(U()){var n=C()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return L()(this,t)}}function U(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var K=M["a"].Item,P=S["a"].Option;function I(e,t){var a=new FileReader;a.addEventListener("load",function(){return t(a.result)}),a.readAsDataURL(e)}function J(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||message.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||message.error("Image must smaller than 2MB!"),t&&a}var O=(n=Object(R["connect"])(function(e){return{success:e.model.success,error:e.model.error,modelList:e.model.modelList}}),n((l=function(e){x()(a,e);var t=T(a);function a(){var e;g()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),e.state={verify_status:"0",spinVisible:!1,imageUrl:"",fileList:[],spinLoading:!0,drillList:[],checkVerify:!1,version:""},e.chgModel=function(t){var a=e.props.modelList,n=a.filter(function(e){return e.model_id==t});e.setState({drillList:n[0].drillList,version:"",checkVerify:!1,verify_status:"0"})},e.chgVersion=function(t){e.setState({checkVerify:!0,version:t})},e.verifyModel=function(){e.setState({verify_status:"1"})},e.runModel=function(t){console.log(t);var a=e.state.oprKey;D.a.push("/main/work/opr/"+a+"/run")},e.handleChange=function(t){"uploading"!==t.file.status?"done"===t.file.status&&I(t.file.originFileObj,function(t){return e.setState({imageUrl:t,loading:!1})}):e.setState({loading:!0})},e.deploy=function(){var t=e.state.oprKey;D.a.push("/main/work/opr/"+t+"/deploy")},e}return b()(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch,a=this.props.match.params.oprKey;this.setState({oprKey:a}),t({type:"model/getModelList",payload:{model_type:a}}),setTimeout(function(t){e.setState({spinLoading:!1})},300)}},{key:"render",value:function(){var e=this,t=this.props,a=t.form.getFieldDecorator,n=t.modelList,r=this.state,l=r.verify_status,m=(r.spinVisible,r.imageUrl),y=r.drillList,g=r.checkVerify,E={labelCol:{span:6},wrapperCol:{span:16},labelAlign:"left"},b=function(){return _.a.createElement("div",{style:{color:"#969DA6"}},"\u6682\u65e0\u53ef\u7528\u7248\u672c",_.a.createElement("div",{style:{marginTop:"8px",fontSize:"12px"}},_.a.createElement("a",{onClick:e.runModel},"\u53bb\u8bad\u7ec3\u6a21\u578b")))},w=(v["a"],[{title:"\u5206\u7c7b",dataIndex:"label"},{title:"\u51c6\u786e\u7387",dataIndex:"vm"}]),L=[{label:"apple",vm:"99.00%"},{label:"banana",vm:"1.00%"}],A=(this.state.fileList,_.a.createElement(h["a"],{type:"loading",style:{fontSize:24},spin:!0}));return _.a.createElement("div",null,_.a.createElement(i["a"],{spinning:this.state.spinLoading,indicator:A},_.a.createElement("div",{className:z.a.menuDesc},_.a.createElement("div",{className:z.a.menuDescLeft},"\u6821\u9a8c\u6a21\u578b"),_.a.createElement(f["a"],null)),_.a.createElement("div",{className:z.a.detailArea},_.a.createElement("div",null,_.a.createElement(M["a"],p()({layout:"horizontal"},E),_.a.createElement(d["a"],null,_.a.createElement(u["a"],{span:8},_.a.createElement(K,{label:"\u9009\u62e9\u6a21\u578b"},a("model_id")(_.a.createElement(S["a"],{placeholder:"\u8bf7\u9009\u62e9\u6a21\u578b",onChange:this.chgModel},n.map(function(e){return _.a.createElement(P,{style:{fontSize:"12px"},value:e.model_id},e.model_name)}))))),_.a.createElement(u["a"],{span:8},_.a.createElement(K,{label:"\u90e8\u7f72\u65b9\u5f0f"},a("deploy_way",{initialValue:"1"})(_.a.createElement(S["a"],{disabled:!0},_.a.createElement(P,{style:{fontSize:"12px"},value:"1"},"\u516c\u6709\u4e91\u90e8\u7f72(\u76ee\u524d\u4ec5\u652f\u6301)"))))),_.a.createElement(u["a"],{span:8},_.a.createElement(K,{label:"\u9009\u62e9\u7248\u672c"},a("version")(_.a.createElement(S["a"],{placeholder:"\u8bf7\u9009\u62e9\u7248\u672c",onChange:this.chgVersion},y.map(function(e){return _.a.createElement(P,{style:{fontSize:"12px"},value:e.drill_id},e.version)})))))))),_.a.createElement("div",null,"0"==l&&g&&_.a.createElement("div",{style:{marginLeft:"80px",height:"200px"}},_.a.createElement(v["a"],{type:"primary",onClick:this.verifyModel},"\u542f\u52a8\u6a21\u578b\u6821\u9a8c\u670d\u52a1")),"0"==l&&!g&&_.a.createElement("div",null,_.a.createElement(c["a"],{description:b(),image:"https://gw.alipayobjects.com/mdn/miniapp_social/afts/img/A*pevERLJC9v0AAAAAAAAAAABjAQAAAQ/original"})),"1"==l&&_.a.createElement("div",{className:z.a.vmmain},_.a.createElement("div",{className:z.a.vmleft},_.a.createElement("div",{style:{border:"1px solid #eee",height:"400px",backgroundColor:"#f0f2f5"}},_.a.createElement("div",null,_.a.createElement(s["a"],{name:"avatar",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:J,onChange:this.handleChange},m?_.a.createElement("img",{src:m,alt:"avatar",style:{width:640,height:400}}):_.a.createElement(v["a"],{type:"primary",style:{marginLeft:260,marginTop:180}},"\u4e0a\u4f20\u56fe\u7247"))),!m&&_.a.createElement("div",{style:{marginLeft:180,marginTop:10}},"\u652f\u6301\u56fe\u7247\u683c\u5f0fjpg\u3001png,\u5927\u5c0f\u57284M\u4ee5\u5185")),_.a.createElement("div",{style:{marginTop:"16px"}},_.a.createElement(s["a"],{name:"avatar1",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:J,onChange:this.handleChange},_.a.createElement(v["a"],{type:"primary"},"\u70b9\u51fb\u6dfb\u52a0\u56fe\u7247")))),_.a.createElement("div",{className:z.a.vmright},_.a.createElement("div",{style:{border:"1px solid #eee",height:"400px"}},_.a.createElement(o["a"],{rowKey:"label",columns:w,dataSource:L,pagination:!1})),_.a.createElement("div",{style:{marginTop:"16px"}},_.a.createElement(v["a"],{type:"primary",style:{width:120},onClick:this.deploy},"\u7533\u8bf7\u4e0a\u7ebf"))))))))}}]),a}(j["Component"]),r=l))||r);t["default"]=M["a"].create()(O)}}]);