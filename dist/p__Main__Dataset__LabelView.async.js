(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"GT4/":function(e,t,a){"use strict";a.r(t);a("y8nQ");var n,s,r,c=a("Vl3Y"),l=(a("T2oS"),a("W9HT")),o=(a("g9YV"),a("wCAj")),i=(a("+L6B"),a("2/Rp")),u=(a("Pwec"),a("CtXQ")),d=(a("2qtc"),a("kLXV")),p=(a("/zsF"),a("PArb")),m=a("2Taf"),f=a.n(m),h=a("vZ4D"),y=a.n(h),g=a("l4Ni"),v=a.n(g),w=a("ujKo"),E=a.n(w),_=a("MhPg"),b=a.n(_),L=(a("5NDa"),a("5rEg")),S=a("q1tI"),k=a.n(S),R=a("MuoO"),D=a("3a4m"),K=a.n(D),N=a("4AEC"),T=a.n(N);function x(e){return function(){var t,a=E()(e);if(C()){var n=E()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return v()(this,t)}}function C(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var V=L["a"].Search,A=(n=Object(R["connect"])(function(e){return{success:e.ds.success,error:e.ds.error,labelList:e.ds.labelList}}),n((r=function(e){b()(a,e);var t=x(a);function a(){var e;f()(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s)),e.state={tabKey:"1",selectedRows:[],oprKey:"",spinLoading:!0,searchValue:"",dataset_id:"",dataset_name:"",columns:[{title:"\u6807\u7b7e\u540d\u79f0",dataIndex:"label",width:"100",className:T.a.columnSize},{title:"\u56fe\u7247\u6570\u91cf",dataIndex:"images",width:"100",className:T.a.columnSize},{title:"\u64cd\u4f5c",width:"180px",key:"opr",className:T.a.columnSize,render:function(t,a){return e.oprBtn(t,a)}}]},e.skipImageView=function(t,a){var n=e.state,s=n.oprKey,r=n.dataset_id,c=n.dataset_name,l=a.label;K.a.push("/main/work/opr/"+s+"/iv",{dataset_id:r,dataset_name:c,label:l})},e.oprBtn=function(t,a){return k.a.createElement("span",null,k.a.createElement("a",{onClick:function(){return e.skipImageView(t,a)}},"\u67e5\u770b"),k.a.createElement(p["a"],{type:"vertical"}),k.a.createElement("a",{onClick:function(){return e.deleteLabel(t,a)}},"\u5220\u9664"))},e.uploadDs=function(){var t=e.state,a=t.dataset_id,n=t.dataset_name,s=t.oprKey;K.a.push("/main/work/opr/"+s+"/upDs",{dataset_id:a,dataset_name:n})},e.deleteLabel=function(t,a){d["a"].confirm({title:"\u5220\u9664\u6807\u7b7e",content:"\u786e\u5b9a\u5220\u9664\u9009\u4e2d\u7684\u6807\u7b7e\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){var t=e.props.dispatch;t({type:"ds/rmLabel",payload:a})}})},e.searchLabels=function(e){},e}return y()(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch,a=this.props.match.params.oprKey;this.setState({oprKey:a});var n=this.props.location.state,s=n.dataset_id,r=n.dataset_name;console.log(s),void 0!=s&&(this.setState({dataset_id:s,dataset_name:r}),t({type:"ds/queryLabelList",payload:{dataset_type:a,dataset_id:s}})),setTimeout(function(t){e.setState({spinLoading:!1})},300)}},{key:"render",value:function(){var e=this,t=this.props,a=t.labelList,n=t.dataset_name,s=this.state.selectedRows,r=k.a.createElement(u["a"],{type:"loading",style:{fontSize:24},spin:!0}),c={onChange:function(t,a){console.log("selectedRowKeys: ".concat(t),"selectedRows: ",a),e.setState({selectedRows:a})},onSelect:function(e,t,a){console.log(e,t,a)},onSelectAll:function(e,t,a){console.log(e,t,a)}};return k.a.createElement("div",null,k.a.createElement(l["a"],{spinning:this.state.spinLoading,indicator:r},k.a.createElement("div",{className:T.a.menuDesc},k.a.createElement("div",{className:T.a.menuDescLeft},"\u6570\u636e\u96c6 ",""!=n&&k.a.createElement("span",null,"> ",this.state.dataset_name)),k.a.createElement("div",{className:T.a.menuDescRight},k.a.createElement("a",null)),k.a.createElement(p["a"],null)),k.a.createElement("div",{className:T.a.detailArea},k.a.createElement("div",{style:{marginTop:"4px"}},k.a.createElement("div",null,k.a.createElement(i["a"],{icon:"plus",onClick:this.uploadDs,style:{marginRight:8}}),s.length>0&&k.a.createElement(i["a"],{type:"danger",style:{marginRight:8}},"\u5220\u9664"),k.a.createElement(V,{style:{width:240},placeholder:"\u8bf7\u8f93\u5165\u6807\u7b7e\u540d\u79f0\u67e5\u8be2",ref:function(t){return e.searchValue=t},onSearch:function(t){return e.searchLabels(t)}})),k.a.createElement("div",{style:{marginTop:"16px"}},k.a.createElement(o["a"],{rowKey:"label_name",rowSelection:c,columns:this.state.columns,dataSource:a}))))))}}]),a}(S["Component"]),s=r))||s);t["default"]=c["a"].create()(A)}}]);